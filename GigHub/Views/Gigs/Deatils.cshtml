@model GigHub.Core.ViewModel.GigDeatilsViewModel

@{
    ViewBag.Title = "Deatils";
}

<h2>@Model.Gig.Artist.Name
    @if (User.Identity.IsAuthenticated)
    {
        if (Model.IsFollowing)
        {
            <button  class="btn btn-info js-toggle-follow" data-user-id="@Model.Gig.ArtistId">Following</button>

        }
        else
        {
          <button  class="btn btn-default js-toggle-follow" data-user-id="@Model.Gig.ArtistId">Follow</button>
        }
        
    }
    </h2>

<p>
    this event is at @Model.Gig.Venue   
    on @Model.Gig.DateTime.ToString("d MMM")
    at @Model.Gig.DateTime.ToString("HH:mm")
       
</p>

        @if (Model.IsAttending)
        {
            <p> You Are Going To This Event</p>
        }
                    
    


@section scripts
{

<script>
    $(document).ready(function () {
        gigDeatilsController.init();

        //js for follow befor modlizing
        //$(".js-toggle-follow").click(function (e) {
        //    var button = $(e.target);
        //    $.post("/api/Followings", { followeeId: button.attr("data-user-id") })
        //        .done(function () {
        //            button.text("Following");
        //        })
        //        .fail(function () {
        //            alert("Something failed");
        //        });
        //});
              




    });
            

</script>
}   